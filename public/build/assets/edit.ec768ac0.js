import{T as g,a as d,b as f,d as l,e as o,i as P,u as n,w as _,F as c,r as B,C,g as U,j as $,h as T}from"./main.2dcdc8d3.js";import{b as w}from"./breadcrumb.9f201b96.js";import{_ as u}from"./FormGroup.23053268.js";import{_ as F}from"./FormSelect.faab2834.js";import{_ as b}from"./FormButton.a5406ea8.js";import{_ as M}from"./ButtonLoader.1c2761ed.js";import{_ as N}from"./InputGroup.7ab5be2a.js";import"./FormLabel.3e6cbdef.js";import"./FormInput.c55253b9.js";import"./error.71f8f6d4.js";const y={class:"col-lg-5 m-auto"},S={class:"card"},j={class:"card-body"},k=["onSubmit"],A=o("hr",null,null,-1),D={class:"d-flex justify-content-between"},H=o("h5",null,"Plan Features",-1),q=o("i",{class:"fa fa-plus"},null,-1),E=T(" Add "),L=o("hr",null,null,-1),X={name:"edit",props:["plan","features"],setup(V){const s=V,e=g({name:s.plan.name,tenure:s.plan.tenure,min_investment:s.plan.min_investment,max_investment:s.plan.max_investment,bonus:s.plan.bonus,demo:s.plan.demo,features:s.features}),v=()=>e.features.push(""),h=i=>e.features=e.features.filter((a,r)=>e.features[i]!=r),x=()=>{if(!e.features.length)return C("At least a plan feature is required");e.put(route("admin.plans.update",s.plan.id))};return(i,a)=>{const r=U("Head");return d(),f(c,null,[l(r,{title:"Create Plan"}),l(w,{title:"Create Plan",crumbs:["Dashboard","Settings","Plans","Create"]}),o("div",y,[o("div",S,[o("div",j,[o("form",{onSubmit:P(x,["prevent"])},[l(u,{name:"name",placeholder:"Plan name",label:"Plan name",modelValue:n(e).name,"onUpdate:modelValue":a[0]||(a[0]=t=>n(e).name=t)},null,8,["modelValue"]),l(u,{name:"tenure",placeholder:"Trade Tenure in days",label:"Trade Tenure",modelValue:n(e).tenure,"onUpdate:modelValue":a[1]||(a[1]=t=>n(e).tenure=t)},null,8,["modelValue"]),l(u,{name:"bonus",placeholder:"Bonus eg. 25",label:"Bonus",modelValue:n(e).bonus,"onUpdate:modelValue":a[2]||(a[2]=t=>n(e).bonus=t)},null,8,["modelValue"]),l(F,{id:"demo",name:"demo",label:"Demo Plan",options:{1:"Yes",0:"No"},modelValue:n(e).demo,"onUpdate:modelValue":a[3]||(a[3]=t=>n(e).demo=t)},null,8,["modelValue"]),l(u,{name:"min_investment",placeholder:"Minimum investment",label:"Minimum investment",modelValue:n(e).min_investment,"onUpdate:modelValue":a[4]||(a[4]=t=>n(e).min_investment=t)},null,8,["modelValue"]),l(u,{name:"max_investment",placeholder:"Maximum investment",label:"Maximum investment",modelValue:n(e).max_investment,"onUpdate:modelValue":a[5]||(a[5]=t=>n(e).max_investment=t)},null,8,["modelValue"]),A,o("div",D,[H,l(b,{class:"btn btn-outline-primary btn-sm",onButtonClicked:v},{default:_(()=>[q,E]),_:1})]),o("div",null,[(d(!0),f(c,null,B(n(e).features,(t,m)=>(d(),$(N,{placeholder:`Plan feature ${m+1}`,class:"my-2",name:`features.${m}`,icon:"fa fa-times",onButtonClicked:p=>h(m),modelValue:n(e).features[m],"onUpdate:modelValue":p=>n(e).features[m]=p},null,8,["placeholder","name","onButtonClicked","modelValue","onUpdate:modelValue"]))),256))]),L,l(b,{type:"submit",class:"w-100 btn btn-outline-primary",disabled:n(e).processing},{default:_(()=>[l(M,{text:"Update Plan",loading:n(e).processing},null,8,["loading"])]),_:1},8,["disabled"])],40,k)])])])],64)}}};export{X as default};
