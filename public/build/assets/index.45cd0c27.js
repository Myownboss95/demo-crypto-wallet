import{T as V,c as S,p as z,a as d,b as p,d as s,e as o,w as n,t as f,n as M,j as v,k as _,z as k,u as m,F as N,h as x,g as y,i as D}from"./main.44d3edf1.js";import{b as R}from"./breadcrumb.a2072d09.js";import{_ as u}from"./FormButton.b5bafa51.js";import{_ as c}from"./ButtonLoader.046f5f16.js";import{_ as h}from"./modal.9ee02198.js";import{_ as j}from"./FormGroup.a8d6311c.js";import"./FormLabel.6d5eca29.js";import"./FormInput.c8d17617.js";import"./error.8a473308.js";const E={class:"col-md-4 mx-auto"},F={class:"card shadow shadow-lg radius-20"},H={class:"card-body"},L={key:0,class:"d-flex justify-content-center align-items-center",style:{"min-height":"300px"}},U=o("p",{class:""},"You do no have an active trade bot.",-1),W=x("Link a Bot"),Y={key:1,class:"text-center"},G=o("i",{class:"fa fa-robot font-size-24 my-3"},null,-1),I={class:"my-3"},J={class:"my-3"},K={class:"my-3"},O=x(" Bot status: "),P={class:"my-4"},Q=o("div",{class:"modal-body"},[o("p",null," We recieved your request and our agents will generate the activation token. The token will be sent to your email.. ")],-1),X={class:"modal-body"},Z=["onSubmit"],tt=o("p",{class:"text-center"}," To activate this trade bot, enter token sent to your email address. ",-1),ut={name:"index",props:["bot","requested"],setup(B){const e=B,i=V({token:""});let b=S(()=>e.requested),r=z(!1);const g=()=>{var a;i.delete(route("user.bots.destroy",(a=e.bot)==null?void 0:a.id),{onBefore:()=>confirm("Are you sure you want to unlink this trade bot?")})},w=()=>{i.post(route("user.bots.activation.request"))},q=()=>{i.post(route("user.bots.activate"),{onSuccess:()=>document.querySelectorAll(".btn-close").forEach(a=>{a.click()})})},C=()=>{var a,t;i.post(route("user.bots.reactivate",(t=(a=e.bot)==null?void 0:a.pivot)==null?void 0:t.id))},A=()=>{var a,t;i.post(route("user.bots.deactivate",(t=(a=e.bot)==null?void 0:a.pivot)==null?void 0:t.id),{onBefore:()=>confirm("Are you sure you want to deactivate this bot?")})};return(a,t)=>{const T=y("Head"),$=y("inertia-link");return d(),p(N,null,[s(T,{title:"Trade Bot"}),s(R,{title:"Trade Bot",crumbs:["Dashboard","Trading","Trade Bot"]}),o("div",E,[o("div",F,[o("div",H,[e.bot?(d(),p("div",Y,[G,o("h6",I,"Linked Bot: "+f(e.bot.name),1),o("h6",J,"Trades per day: "+f(e.bot.trades_per_day),1),o("h6",K,[O,o("span",{class:M({"text-info":e.bot.pivot.status=="pending","text-success":e.bot.pivot.status=="success","text-warning":e.bot.pivot.status=="requested","text-danger":e.bot.pivot.status=="inactive"})},f(e.bot.pivot.status),3)]),o("div",P,[e.bot.pivot.status=="pending"?(d(),v(u,{key:0,class:"btn btn-outline-info mx-1",onButtonClicked:w},{default:n(()=>[s(c,{text:"Request Activation"})]),_:1})):_("",!0),e.bot.pivot.status=="active"?(d(),v(u,{key:1,class:"btn btn-outline-warning mx-1",onButtonClicked:t[0]||(t[0]=l=>A())},{default:n(()=>[s(c,{text:"Deactivate"})]),_:1})):_("",!0),e.bot.pivot.status=="requested"?(d(),v(u,{key:2,class:"btn btn-outline-success mx-1",onButtonClicked:t[1]||(t[1]=l=>k(r)?r.value=!0:r=!0)},{default:n(()=>[s(c,{text:"Activate with token"})]),_:1})):_("",!0),e.bot.pivot.status=="inactive"?(d(),v(u,{key:3,class:"btn btn-outline-success mx-1",onButtonClicked:C},{default:n(()=>[s(c,{text:"Activate"})]),_:1})):_("",!0),s(u,{class:"btn btn-outline-danger mx-1",onButtonClicked:t[2]||(t[2]=l=>g())},{default:n(()=>[s(c,{text:"Unlink"})]),_:1})])])):(d(),p("div",L,[o("div",null,[U,s($,{href:a.route("user.bots.create"),class:"btn btn-outline-success w-100"},{default:n(()=>[W]),_:1},8,["href"])])]))])])]),s(h,{title:"Request Bot Activation",id:"request_bot_activation",open:m(b)==!0,onModalClosed:t[3]||(t[3]=l=>k(b)?b.value=!1:b=!1),size:"sm"},{default:n(()=>[Q]),_:1},8,["open"]),s(h,{title:"Activate Trade Bot",id:"activate_trade_bot",open:m(r)==!0,onModalClosed:t[5]||(t[5]=l=>k(r)?r.value=!1:r=!1)},{default:n(()=>[o("div",X,[o("form",{class:"p-5",onSubmit:D(q,["prevent"])},[tt,s(j,{id:"token",modelValue:m(i).token,"onUpdate:modelValue":t[4]||(t[4]=l=>m(i).token=l),name:"token"},null,8,["modelValue"]),s(u,{type:"submit",class:"btn btn-outline-primary w-100"},{default:n(()=>[s(c,{text:"Activate",loading:m(i).processing},null,8,["loading"])]),_:1})],40,Z)])]),_:1},8,["open"])],64)}}};export{ut as default};
